<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mol.ddmanage.mapper.GetPurchaseMapper">
    <select id="Get_Purchase_bar"  resultType="java.lang.String"><!--查找用户-->
       select count(*) from fy_purchase where status =#{status} and create_time>#{history_time}
    </select>
    <select id="Get_Supplier" resultType="java.lang.String">
       select count(*) from bd_supplier where regist_time>#{history_time}
    </select>

    <select id="Purchase_track_mapper" resultType="com.mol.ddmanage.Ben.Purchase_track_ben">
        select * from fy_purchase where status=#{status}
    </select>

    <select id="Get_Purchase_staff" resultType="com.mol.ddmanage.Ben.App_user_table">
        select * from  app_user where dd_user_id=#{dd_user_id}
    </select>

    <select id="Get_Supplier_Review_mapper" resultType="com.mol.ddmanage.Ben.Supplier_Review_ben">
        select * from  bd_supplier where supstate=#{supstate}
    </select>

    <select id="Get_this_month_Supplier_number_mapper" resultType="com.mol.ddmanage.Ben.Supplier_Review_ben">
        select  * from  bd_supplier where supstate='1' and #{time_end}>last_update_time and last_update_time>#{time_start}
    </select>

    <select id="GetNewSupplierView" resultType="java.util.Map">
        select bd_supplier.regist_time from bd_supplier where #{time2}>regist_time and regist_time>#{time1}
    </select>

    <select id="GetMaterialsType" resultType="java.lang.String">
        select bd_marbasclass.name from bd_marbasclass where  bd_marbasclass.pk_parent="~";
    </select>
    <select id="GetProductType" resultType="com.mol.ddmanage.Ben.Workench.GetProductTypeben">
       SELECT fy_purchase.goods_type ,fy_quote.quote
FROM fy_purchase
LEFT JOIN fy_purchase_detail ON fy_purchase.id=fy_purchase_detail.fy_purchase_id AND fy_purchase_detail.quote_id IS NOT NULL AND fy_purchase_detail.quote_id!=''
LEFT JOIN fy_quote ON fy_quote.id=fy_purchase_detail.quote_id
WHERE fy_purchase.`status`="7" AND #{time2}>create_time and create_time>#{time1}
    </select>


</mapper>